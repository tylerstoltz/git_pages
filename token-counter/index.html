<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LLM Token Counter - Claude Code Tools</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: #1e1e1e;
            color: #d4d4d4;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: #2d2d30;
            padding: 15px 20px;
            border-bottom: 1px solid #3e3e42;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.5em;
            color: #ffffff;
        }

        .header a {
            color: #569cd6;
            text-decoration: none;
            font-size: 0.9em;
        }

        .header a:hover {
            text-decoration: underline;
        }

        .container {
            flex: 1;
            max-width: 1200px;
            width: 100%;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
        }

        .main-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .section {
            background: #252526;
            border: 1px solid #3e3e42;
            border-radius: 8px;
            padding: 20px;
        }

        .section-title {
            font-size: 1.1em;
            color: #9cdcfe;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        textarea {
            width: 100%;
            min-height: 300px;
            background: #1e1e1e;
            border: 2px solid #3e3e42;
            border-radius: 4px;
            padding: 12px;
            color: #d4d4d4;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            line-height: 1.6;
        }

        textarea:focus {
            outline: none;
            border-color: #569cd6;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .stat-card {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            padding: 15px;
        }

        .stat-label {
            font-size: 0.85em;
            color: #858585;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            color: #4ec9b0;
            font-weight: bold;
        }

        .model-section {
            margin-top: 10px;
        }

        .model-card {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            padding: 15px;
            margin-bottom: 15px;
        }

        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .model-name {
            font-size: 1em;
            color: #dcdcaa;
            font-weight: bold;
        }

        .model-tokens {
            font-size: 1.3em;
            color: #4ec9b0;
            font-weight: bold;
        }

        .model-cost {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #3e3e42;
        }

        .cost-item {
            font-size: 0.85em;
        }

        .cost-label {
            color: #858585;
        }

        .cost-value {
            color: #ce9178;
            font-weight: bold;
            margin-left: 5px;
        }

        .info-box {
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            padding: 15px;
            margin-top: 15px;
        }

        .info-title {
            color: #9cdcfe;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .info-text {
            color: #858585;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .info-text ul {
            margin-left: 20px;
            margin-top: 5px;
        }

        .info-text li {
            margin-bottom: 5px;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        button {
            background: #0e639c;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 0.9em;
            transition: background 0.2s;
        }

        button:hover {
            background: #1177bb;
        }

        button:active {
            background: #0d5a8f;
        }

        @media (max-width: 900px) {
            .container {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .model-cost {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üî¢ LLM Token Counter & Cost Estimator</h1>
        <a href="../">‚Üê Back to Tools</a>
    </div>

    <div class="container">
        <div class="main-panel">
            <div class="section">
                <div class="section-title">üìù Input Text</div>
                <textarea id="input-text" placeholder="Enter or paste your text here to count tokens and estimate API costs..."></textarea>
                <div class="button-group">
                    <button onclick="clearText()">Clear</button>
                    <button onclick="loadSample()">Load Sample</button>
                </div>
            </div>

            <div class="section">
                <div class="section-title">üìä Basic Statistics</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Characters</div>
                        <div class="stat-value" id="char-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Characters (no spaces)</div>
                        <div class="stat-value" id="char-no-space">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Words</div>
                        <div class="stat-value" id="word-count">0</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Lines</div>
                        <div class="stat-value" id="line-count">0</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="side-panel">
            <div class="section">
                <div class="section-title">ü§ñ Model Token Counts & Costs</div>

                <div class="model-section">
                    <div class="model-card">
                        <div class="model-header">
                            <span class="model-name">GPT-4</span>
                            <span class="model-tokens" id="gpt4-tokens">0</span>
                        </div>
                        <div class="model-cost">
                            <div class="cost-item">
                                <span class="cost-label">Input:</span>
                                <span class="cost-value" id="gpt4-input">$0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Output:</span>
                                <span class="cost-value" id="gpt4-output">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <div class="model-card">
                        <div class="model-header">
                            <span class="model-name">GPT-4 Turbo</span>
                            <span class="model-tokens" id="gpt4turbo-tokens">0</span>
                        </div>
                        <div class="model-cost">
                            <div class="cost-item">
                                <span class="cost-label">Input:</span>
                                <span class="cost-value" id="gpt4turbo-input">$0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Output:</span>
                                <span class="cost-value" id="gpt4turbo-output">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <div class="model-card">
                        <div class="model-header">
                            <span class="model-name">GPT-3.5 Turbo</span>
                            <span class="model-tokens" id="gpt35-tokens">0</span>
                        </div>
                        <div class="model-cost">
                            <div class="cost-item">
                                <span class="cost-label">Input:</span>
                                <span class="cost-value" id="gpt35-input">$0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Output:</span>
                                <span class="cost-value" id="gpt35-output">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <div class="model-card">
                        <div class="model-header">
                            <span class="model-name">Claude 3 Opus</span>
                            <span class="model-tokens" id="claude-opus-tokens">0</span>
                        </div>
                        <div class="model-cost">
                            <div class="cost-item">
                                <span class="cost-label">Input:</span>
                                <span class="cost-value" id="claude-opus-input">$0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Output:</span>
                                <span class="cost-value" id="claude-opus-output">$0.00</span>
                            </div>
                        </div>
                    </div>

                    <div class="model-card">
                        <div class="model-header">
                            <span class="model-name">Claude 3 Sonnet</span>
                            <span class="model-tokens" id="claude-sonnet-tokens">0</span>
                        </div>
                        <div class="model-cost">
                            <div class="cost-item">
                                <span class="cost-label">Input:</span>
                                <span class="cost-value" id="claude-sonnet-input">$0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Output:</span>
                                <span class="cost-value" id="claude-sonnet-output">$0.00</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <div class="info-title">‚ÑπÔ∏è How It Works</div>
                    <div class="info-text">
                        <p>Token estimation uses character-based approximation:</p>
                        <ul>
                            <li>1 token ‚âà 4 characters (English)</li>
                            <li>1 token ‚âà ¬æ words</li>
                        </ul>
                        <p style="margin-top: 10px;">Prices are approximate and based on current public pricing. Actual costs may vary.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Pricing per 1M tokens (input / output)
        const pricing = {
            'gpt4': { input: 30.00, output: 60.00 },
            'gpt4turbo': { input: 10.00, output: 30.00 },
            'gpt35': { input: 0.50, output: 1.50 },
            'claude-opus': { input: 15.00, output: 75.00 },
            'claude-sonnet': { input: 3.00, output: 15.00 }
        };

        const inputText = document.getElementById('input-text');

        // Simple token estimator based on character count
        function estimateTokens(text) {
            // Rule of thumb: 1 token ‚âà 4 characters for English text
            // This is a simplified estimation
            if (!text) return 0;

            // More accurate estimation considering word boundaries
            const charCount = text.length;
            const wordCount = text.trim().split(/\s+/).filter(w => w.length > 0).length;

            // Average of character-based (chars/4) and word-based (words/0.75) estimation
            const charBasedTokens = charCount / 4;
            const wordBasedTokens = wordCount / 0.75;

            return Math.round((charBasedTokens + wordBasedTokens) / 2);
        }

        function updateStats() {
            const text = inputText.value;

            // Basic stats
            const charCount = text.length;
            const charNoSpace = text.replace(/\s/g, '').length;
            const wordCount = text.trim().split(/\s+/).filter(w => w.length > 0).length;
            const lineCount = text.split('\n').length;

            document.getElementById('char-count').textContent = charCount.toLocaleString();
            document.getElementById('char-no-space').textContent = charNoSpace.toLocaleString();
            document.getElementById('word-count').textContent = wordCount.toLocaleString();
            document.getElementById('line-count').textContent = lineCount.toLocaleString();

            // Token counts
            const tokens = estimateTokens(text);

            // Update all models
            updateModel('gpt4', tokens);
            updateModel('gpt4turbo', tokens);
            updateModel('gpt35', tokens);
            updateModel('claude-opus', tokens);
            updateModel('claude-sonnet', tokens);
        }

        function updateModel(modelKey, tokens) {
            document.getElementById(`${modelKey}-tokens`).textContent = tokens.toLocaleString();

            const inputCost = (tokens / 1000000) * pricing[modelKey].input;
            const outputCost = (tokens / 1000000) * pricing[modelKey].output;

            document.getElementById(`${modelKey}-input`).textContent = `$${inputCost.toFixed(4)}`;
            document.getElementById(`${modelKey}-output`).textContent = `$${outputCost.toFixed(4)}`;
        }

        function clearText() {
            inputText.value = '';
            updateStats();
        }

        function loadSample() {
            inputText.value = `Artificial intelligence (AI) is intelligence demonstrated by machines, in contrast to the natural intelligence displayed by humans and animals. Leading AI textbooks define the field as the study of "intelligent agents": any device that perceives its environment and takes actions that maximize its chance of successfully achieving its goals.

Colloquially, the term "artificial intelligence" is often used to describe machines (or computers) that mimic "cognitive" functions that humans associate with the human mind, such as "learning" and "problem solving".

As machines become increasingly capable, tasks considered to require "intelligence" are often removed from the definition of AI, a phenomenon known as the AI effect. A quip in Tesler's Theorem says "AI is whatever hasn't been done yet." For instance, optical character recognition is frequently excluded from things considered to be AI, having become a routine technology.

Modern machine learning techniques are essential to various applications such as natural language processing, computer vision, speech recognition, email filtering, and recommendation systems. AI applications include advanced web search engines, recommendation systems, understanding human speech, self-driving cars, automated decision-making, and competing at the highest level in strategic game systems.`;
            updateStats();
        }

        // Update stats on input
        inputText.addEventListener('input', updateStats);

        // Initialize
        updateStats();
    </script>
</body>
</html>
